\documentclass{ctexbook}
\usepackage{amsmath}  

% 颜色
\usepackage[table]{xcolor}
  
% 首字下沉
\usepackage{lettrine}

% 分栏
\usepackage{multicol}

% 数学环境
\usepackage{amssymb}
\usepackage{mathrsfs}
\usepackage{yhmath}
\usepackage{mathdots}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{esint} 
\usepackage{extarrows}

% 下划线宏包
\usepackage[normalem]{ulem}
% LaTeX符号宏包
\usepackage{hologo}
% 其他符号
\usepackage{wasysym}
% 带箱小页
\usepackage{boxedminipage}
% 绘图
\usepackage{tikz}
  \usetikzlibrary{calc}
% 最后一页
\usepackage{lastpage}

% 编号列表宏包，并自定义了三个列表
\usepackage[inline]{enumitem}

% 目录和章节样式
\usepackage{titlesec}
\usepackage{titletoc}   % 用于目录

\usepackage{array,multirow,makecell}

\usepackage{diagbox}
\usepackage{longtable}
\usepackage{graphicx,wrapfig}

\usepackage{animate}
\usepackage{caption,subcaption}
% 三线表
\usepackage{booktabs}  

% 页面修正宏包
\usepackage{geometry}

% 代码环境
\usepackage{listings}
% 复制代码时不复制行号
\usepackage{accsupp}
	\newcommand{\emptyaccsupp}[1]
	{\BeginAccSupp{ActualText={}}#1\EndAccSupp{}}
	
\usepackage{tcolorbox} 
	\tcbuselibrary{listings,skins,breakable}

\newtcbox{\latexCommand}[1][green]{on line,
	before upper=\char`\\, arc=2pt,outer arc=2pt, 
	colback=#1!10!white, colframe=#1!50!black, boxsep=1pt, 
	left=1pt, right=1pt, top=1pt, bottom=1pt,
	boxrule=0pt, bottomrule=1pt, toprule=1pt}
  
\newtcbox{\latexEnvironment}[1][violet!70!cyan]{on line,
	before upper=\ttfamily,arc=0pt,outer arc=0pt,
	colback=#1!10!white,colframe=#1!50!black,
	boxsep=0pt,left=1pt, right=1pt, top=1pt, bottom=1pt,
	boxrule=0pt, bottomrule=1pt, toprule=1pt}

\newtcbox{\latexPackage}[1][orange!70!red]{on line,
	before upper={\rule[-0.2ex]{0pt}{1ex}\ttfamily},
	arc=0.8ex,colback=#1!30!white, colframe=#1!50!black,
	boxsep=0pt, left=1.5pt, right=1.5pt, top=1pt, bottom=1pt, boxrule=1pt}


\newtcblisting{latexCode}{breakable,
	skin=bicolor, listing only, 
	colback=gray!30!white, colbacklower=white, colframe=cyan!75!black,
	left=6mm, top=2pt, bottom=2pt, fontupper=\small,
	% listing style
	listing options={style=tcblatex,
		keywordstyle=\color{blue}, 
		breaklines = true,
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\newtcblisting{cppCode}[1]{breakable,
	title=#1, fonttitle=\bfseries,
	skin=bicolor, listing only, 
	colback=gray!30!white, colbacklower=white, colframe=cyan!75!black,
	left=6mm, top=2pt, bottom=2pt, fontupper=\small,
	% listing style
	listing options={language=c++,
		keywordstyle=\color{blue}, 
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\newtcblisting{csCode}[1]{breakable,
	title=#1, fonttitle=\bfseries,
	skin=bicolor, listing only, 
	colback=gray!30!white, colbacklower=white, colframe=cyan!75!black,
	left=6mm, top=2pt, bottom=2pt, fontupper=\small,
	% listing style
	listing options={language=csh,
		keywordstyle=\color{blue}, 
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\newtcblisting{rCode}{breakable,
	skin=bicolor, listing only, 
	colback=gray!30!white, colbacklower=white, colframe=cyan!75!black,
	left=6mm, top=2pt, bottom=2pt, fontupper=\small,
	% listing style
	listing options={language=R,
		keywordstyle=\color{blue}, 
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\newtcblisting{perlCode}{breakable,
	skin=bicolor, listing only, 
	colback=gray!30!white, colbacklower=white, colframe=cyan!75!black,
	left=6mm, top=2pt, bottom=2pt, fontupper=\small,
	% listing style
	listing options={language=Perl,
		keywordstyle=\color{blue}, 
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\newtcblisting{pythonCode}{breakable,
	skin=bicolor, listing only, 
	colback=gray!30!white, colbacklower=white, colframe=cyan!75!black,
	left=6mm, top=2pt, bottom=2pt, fontupper=\small,
	% listing style
	listing options={language=Python,
		keywordstyle=\color{blue}, 
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\newtcblisting{latexCodePreview}{
	skin=bicolor,
	colback=gray!30!white, colbacklower=pink!50!yellow, colframe=cyan!75!black, 
	left=6mm, righthand width=0.4\linewidth, fontupper=\small,
	% listing style
	listing side text,
	listing options={style=tcblatex,
		keywordstyle=\color{blue},
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\newtcblisting{latexCodePreviewAbove}{
	skin=bicolor, 
	colback=gray!30!white, colbacklower=pink!50!red, colframe=cyan!75!black, 
	left=6mm, righthand width=0.4\linewidth, fontupper=\small,
	% listing style
	listing and text,
	listing options={style=tcblatex,
		keywordstyle=\color{blue},
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

% Tikz Code
\newtcblisting{tikzshow}{tikz lower,
	skin=bicolor,
	colback=gray!30!white, colbacklower=white, colframe=cyan!75!black, left=6mm, righthand width=3.5cm, listing outside text,
	% listing style  
	listing options={style=tcblatex,
		language=TeX,
		basicstyle=\small\ttfamily,
		keywordstyle=\color{blue},
		commentstyle=\color{green!50!black},
		numbers=left,
		numberstyle=\tiny\color{red!75!black}\emptyaccsupp,
		emptylines=1,
		escapeinside=``}
}

\lstdefinelanguage{tikzlang}{
	classoffset=0, % 蓝色的keyword
	morekeywords={begin, end, newcommand, draw, node, 
								coordinate, tikzstyle, foreach},
	keywordstyle=\color{keywordcolor},
	classoffset=1, % 棕色的其他关键字
	morekeywords={tikzpicture,grid,at, thick,thin,very,ultra,
								red,green,yellow,blue,cyan,magenta,black,
								gray,darkgray,lightgray,brown,lime,
								olive,orange,pink,purple,teal,violet,white},
	keywordstyle=\color{envicolor},
	morecomment=[l]{\%},
	morecomment=[s]{/*}{*/},
	morestring=[b]',
	% Escape
	escapeinside=``
}

\lstnewenvironment{tikzcode}[1]
		{\lstset{language=tikzlang, 
			basicstyle=\small\ttfamily,
			breaklines=true,%backgroundcolor=\color{white},
			linewidth=0.7\linewidth,#1}
		}
		{}

\usepackage{appendix}
\renewcommand{\appendixname}{App.}

% 行号
\usepackage{lineno}

% 索引与参考文献
\usepackage{imakeidx}
\makeindex[intoc]

\bibliographystyle{plain}
\renewcommand{\bibname}{参考文献}
\usepackage[numindex,numbib]{tocbibind}
\usepackage[square,super,sort&compress]{natbib}

\usepackage{hyperref}
\usepackage{hyperxmp}

\newcommand{\documentTitle}
    {\texorpdfstring{\LaTeX 项目模板}{LaTeX项目模板}}
\newcommand{\documentAuthor}{Roger Young}
\newcommand{\documentKeywords}{LaTeX,模板}
\newcommand{\documentSubject}{LaTeX,模板}

\hypersetup{
	pdftitle=\documentTitle,
	pdfauthor=\documentAuthor,
	pdfsubject= \documentSubject,
	pdfkeywords= \documentKeywords,
	pdfstartview=FitH,
	pdfproducer = \documentAuthor,
	pdfcreator = \documentAuthor, 
	pdfcopyright = \documentAuthor, 
	pdflicenseurl = {https://github.com/hiatcg}
}



\begin{document}
\title{\documentTitle}
\author{\documentAuthor}

\maketitle
\tableofcontents


\end{document}